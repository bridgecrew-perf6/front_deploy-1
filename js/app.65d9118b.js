(function(t){function e(e){for(var o,r,i=e[0],c=e[1],l=e[2],d=0,v=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&v.push(n[r][0]),n[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],o=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(o=!1)}o&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var o={},n={app:0},s=[];function r(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=o,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(a,o,function(e){return t[e]}.bind(null,o));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0f6f":function(t,e,a){},"1ce6":function(t,e,a){"use strict";a("b626")},"455a":function(t,e,a){"use strict";a("f02d")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"content",attrs:{id:"content"}},[a("router-view")],1)])},s=[],r={name:"App",components:{},data:function(){return{}}},i=r,c=a("2877"),l=Object(c["a"])(i,n,s,!1,null,null,null),u=l.exports,d=a("ce5b"),v=a.n(d),m=(a("bf40"),a("1da1")),p=(a("96cf"),a("b0c0"),a("d3b7"),a("8c4f")),f=a("2b27"),h=a.n(f),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-card",{attrs:{color:"grey lighten-4",flat:"",tile:""}},[a("v-toolbar",{attrs:{dense:""}},[a("v-toolbar-title",[a("div",{staticClass:"font-weight-medium"},[t._v("Medium")])]),a("v-spacer"),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"#009688"},on:{click:function(e){e.stopPropagation(),t.dialog1=!0}}},[t._v("SignIn ")]),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"#2979FF"},on:{click:function(e){e.stopPropagation(),t.dialog2=!0}}},[t._v("GetStarted ")])],1)],1),a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"yellow",staticStyle:{"border-bottom":"1px solid black !important"}},[a("v-col",{attrs:{cols:"12",md:"2"}}),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-row",{staticClass:"pa-md-4",staticStyle:{"font-size":"3.5em","line-height":"1em"},attrs:{align:"center"}},[t._v(" Medium is a place to write, read, and connect ")]),a("v-row",{staticClass:"pa-md-4 mx-lg-auto",attrs:{align:"center"}},[t._v(" It's easy and free to post your thinking on any topic and connect with millions of readers. ")])],1),a("v-col",{attrs:{cols:"12",md:"6"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1)],1),a("v-container",{attrs:{align:"center"}},[a("v-row",{staticClass:"pa-md-4 mx-lg-auto"},[a("h1",[t._v("Trending on medium")])]),a("v-row",{staticClass:"pa-md-4 mx-lg-auto"},[a("v-col",{attrs:{cols:"12",md:"2"}}),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-row",t._l(t.posts,(function(e,o){return a("v-col",{key:o,attrs:{cols:"12",md:"4"},on:{click:function(a){return t.viewStory(e.id)}}},[a("v-card",[a("v-col",{attrs:{cols:"12",md:"10"}},[a("v-row",{attrs:{dense:"",align:"center"}},[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-avatar",[a("v-img",{attrs:{src:e.photo}})],1)],1),a("v-col",{attrs:{cols:"12",md:"9"}},[t._v(" "+t._s(e.name)+" ")])],1),a("v-row",{staticClass:"pa-md-4 mx-lg-auto"},[a("h2",{domProps:{innerHTML:t._s(e.title)}})]),a("v-row",{staticClass:"pa-md-4 mx-lg-auto"},[t._v(" "+t._s(e.date)+" ")])],1)],1)],1)})),1)],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1),a("v-row")],1),[a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{staticStyle:{"align-items":"center"},attrs:{"max-width":"500"},model:{value:t.dialog1,callback:function(e){t.dialog1=e},expression:"dialog1"}},[a("v-card",[a("v-container",[a("v-container",[a("v-card-title",[a("h2",[t._v("Welcome back")])]),a("v-container",[a("v-card-text",[a("a",{staticClass:"google-signup",attrs:{href:"http://34.238.51.25:3000/google"}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18","aria-hidden":"true"}},[a("title",[t._v("Google")]),a("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[a("path",{attrs:{fill:"#4285F4",d:"M17.64 9.2045c0-.6381-.0573-1.2518-.1636-1.8409H9v3.4814h4.8436c-.2086 1.125-.8427 2.0782-1.7959 2.7164v2.2581h2.9087c1.7018-1.5668 2.6836-3.874 2.6836-6.615z"}}),a("path",{attrs:{fill:"#34A853",d:"M9 18c2.43 0 4.4673-.806 5.9564-2.1805l-2.9087-2.2581c-.8059.54-1.8368.859-3.0477.859-2.344 0-4.3282-1.5831-5.036-3.7104H.9574v2.3318C2.4382 15.9832 5.4818 18 9 18z"}}),a("path",{attrs:{fill:"#FBBC05",d:"M3.964 10.71c-.18-.54-.2822-1.1168-.2822-1.71s.1023-1.17.2823-1.71V4.9582H.9573A8.9965 8.9965 0 0 0 0 9c0 1.4523.3477 2.8268.9573 4.0418L3.964 10.71z"}}),a("path",{attrs:{fill:"#EA4335",d:"M9 3.5795c1.3214 0 2.5077.4541 3.4405 1.346l2.5813-2.5814C13.4632.8918 11.426 0 9 0 5.4818 0 2.4382 2.0168.9573 4.9582L3.964 7.29C4.6718 5.1627 6.6559 3.5795 9 3.5795z"}})])]),a("span",[t._v(" Sign in with google")])])]),a("v-card-text",[a("v-icon",{attrs:{color:"teal darken-2"}},[t._v(" mdi-email ")]),a("router-link",{attrs:{to:"/login"}},[t._v(" Sign in with email ")])],1),a("v-card-text",[a("router-link",{attrs:{to:"/register"}},[t._v(" Create One? ")])],1)],1)],1)],1)],1)],1)],1)],[a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{staticStyle:{"align-items":"center"},attrs:{"max-width":"500"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("v-card",[a("v-container",[a("v-container",[a("v-card-title",[a("h2",[t._v("Welcome back")])]),a("v-container",[a("v-card-text",[a("a",{staticClass:"google-signup",attrs:{href:"http://34.238.51.25:3000/google"}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18","aria-hidden":"true"}},[a("title",[t._v("Google")]),a("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[a("path",{attrs:{fill:"#4285F4",d:"M17.64 9.2045c0-.6381-.0573-1.2518-.1636-1.8409H9v3.4814h4.8436c-.2086 1.125-.8427 2.0782-1.7959 2.7164v2.2581h2.9087c1.7018-1.5668 2.6836-3.874 2.6836-6.615z"}}),a("path",{attrs:{fill:"#34A853",d:"M9 18c2.43 0 4.4673-.806 5.9564-2.1805l-2.9087-2.2581c-.8059.54-1.8368.859-3.0477.859-2.344 0-4.3282-1.5831-5.036-3.7104H.9574v2.3318C2.4382 15.9832 5.4818 18 9 18z"}}),a("path",{attrs:{fill:"#FBBC05",d:"M3.964 10.71c-.18-.54-.2822-1.1168-.2822-1.71s.1023-1.17.2823-1.71V4.9582H.9573A8.9965 8.9965 0 0 0 0 9c0 1.4523.3477 2.8268.9573 4.0418L3.964 10.71z"}}),a("path",{attrs:{fill:"#EA4335",d:"M9 3.5795c1.3214 0 2.5077.4541 3.4405 1.346l2.5813-2.5814C13.4632.8918 11.426 0 9 0 5.4818 0 2.4382 2.0168.9573 4.9582L3.964 7.29C4.6718 5.1627 6.6559 3.5795 9 3.5795z"}})])]),a("span",[t._v(" Sign up with google")])])]),a("v-card-text",[a("v-icon",{attrs:{color:"teal darken-2"}},[t._v(" mdi-email ")]),a("router-link",{attrs:{to:"/register"}},[t._v(" Sign up with email ")])],1),a("v-card-text",[a("router-link",{attrs:{to:"/login"}},[t._v(" Sign in ")])],1)],1)],1)],1)],1)],1)],1)]],2)},b=[],w=a("b85c"),_=a("bc3a"),k=a.n(_),x={data:function(){return{posts:[],dialog1:!1,dialog2:!1}},components:{},methods:{GetPosts:function(){var t=this;k.a.get("http://34.238.51.25:3000/api/posts/trending").then((function(e){var a,o=Object(w["a"])(e.data);try{for(o.s();!(a=o.n()).done;){var n=a.value;t.posts.push(n)}}catch(s){o.e(s)}finally{o.f()}})).catch((function(){console.log("Failed to register. Confirm account info.")}))},viewStory:function(t){ka.push("/view?postId="+t)}},created:function(){this.GetPosts()}},C=x,y=a("6544"),V=a.n(y),T=a("7496"),S=a("8212"),U=a("8336"),A=a("b0af"),j=a("99d9"),$=a("62ad"),O=a("a523"),I=a("169a"),P=a("132d"),R=a("adda"),F=a("0fd9"),L=a("2fa4"),M=a("71d9"),H=a("2a7f"),E=Object(c["a"])(C,g,b,!1,null,null,null),B=E.exports;V()(E,{VApp:T["a"],VAvatar:S["a"],VBtn:U["a"],VCard:A["a"],VCardText:j["b"],VCardTitle:j["c"],VCol:$["a"],VContainer:O["a"],VDialog:I["a"],VIcon:P["a"],VImg:R["a"],VRow:F["a"],VSpacer:L["a"],VToolbar:M["a"],VToolbarTitle:H["a"]});var z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Login form")])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{id:"loginEmail",name:"email",label:"Email",type:"text"},model:{value:t.form.loginEmail,callback:function(e){t.$set(t.form,"loginEmail",e)},expression:"form.loginEmail"}})],1)],1),a("v-card-actions",[a("v-spacer",{staticClass:"pa-md-4 mx-lg-auto"}),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.login()}}},[t._v("Login")]),a("router-link",{attrs:{to:"/register",tag:"div"}},[a("v-btn",{attrs:{depressed:"",href:"/register"}},[t._v(" Register ")])],1)],1)],1)],1)],1)],1)],1)],1)},D=[],W=a("5530"),N=a("a078"),G=a.n(N),J=a("2f62"),Y={data:function(){return{form:{loginEmail:""}}},components:{},methods:Object(W["a"])(Object(W["a"])({},Object(J["c"])(["removeUser"])),{},{login:function(){var t={email:this.form.loginEmail};k.a.post(G.a.baseUrl+"/api/auth/signin",t).then((function(t){alert(t.data.message)})).catch((function(){alert("Failed to log in.")}))},register:function(){var t={email:this.form.loginEmail};k.a.post(G.a.baseUrl+"/api/auth/signup",t).then((function(t){alert(t.data)})).catch((function(){alert("Failed to register.")}))},logout:function(){var t=this;k.a.post("/api/auth/signout").then((function(){alert("Logged out."),t.$store.dispatch("removeUser"),t.$store.dispatch("removeToken")}))}})},q=Y,K=a("a75b"),Q=a("0e8f"),X=a("4bd4"),Z=a("a722"),tt=a("8654"),et=Object(c["a"])(q,z,D,!1,null,null,null),at=et.exports;V()(et,{VApp:T["a"],VBtn:U["a"],VCard:A["a"],VCardActions:j["a"],VCardText:j["b"],VContainer:O["a"],VContent:K["a"],VFlex:Q["a"],VForm:X["a"],VLayout:Z["a"],VSpacer:L["a"],VTextField:tt["a"],VToolbar:M["a"],VToolbarTitle:H["a"]});var ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Register form")])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{id:"loginEmail",name:"email",label:"Name",type:"text"},model:{value:t.form.loginName,callback:function(e){t.$set(t.form,"loginName",e)},expression:"form.loginName"}}),a("v-text-field",{attrs:{id:"loginEmail",name:"email",label:"Email",type:"text"},model:{value:t.form.loginEmail,callback:function(e){t.$set(t.form,"loginEmail",e)},expression:"form.loginEmail"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.register()}}},[t._v("Register")])],1)],1)],1)],1)],1)],1)],1)},nt=[],st={data:function(){return{form:{loginEmail:"",loginName:""}}},methods:{register:function(){var t=this,e={name:this.form.loginName,email:this.form.loginEmail};k.a.post(G.a.baseUrl+"/api/auth/signup",e).then((function(e){alert("registered successfully"),t.account=e.data})).catch((function(){alert("Failed to register. Confirm account info.")}))}}},rt=st,it=Object(c["a"])(rt,ot,nt,!1,null,null,null),ct=it.exports;V()(it,{VApp:T["a"],VBtn:U["a"],VCard:A["a"],VCardActions:j["a"],VCardText:j["b"],VContainer:O["a"],VContent:K["a"],VFlex:Q["a"],VForm:X["a"],VLayout:Z["a"],VSpacer:L["a"],VTextField:tt["a"],VToolbar:M["a"],VToolbarTitle:H["a"]});var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-card",{attrs:{color:"grey lighten-4",flat:"",tile:""}},[a("v-toolbar",{attrs:{dense:""}},[a("v-toolbar-title",[a("div",{staticClass:"font-weight-medium"},[t._v("Medium")])]),a("v-spacer"),a("router-link",{attrs:{to:"/login",tag:"div"}},[a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"#009688"}},[t._v("SingIn")])],1),a("router-link",{attrs:{to:"/register",tag:"div"}},[a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"#2979FF"}},[t._v("GetStarted")])],1)],1)],1)],1)},ut=[],dt=(a("ac1f"),a("841c"),a("3ca3"),a("ddb0"),a("9861"),{data:function(){return{posts:[]}},methods:Object(W["a"])(Object(W["a"])({},Object(J["c"])(["setUser","setToken"])),{},{SendConfirmCode:function(){var t=this;console.log("gettoken");var e=window.location.search,a=new URLSearchParams(e),o=a.get("confirmation_code");console.log(o),k.a.get(G.a.baseUrl+"/api/auth/confirm/".concat(o)).then(function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(a){var o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o={id:a.data.id,name:a.data.name,email:a.data.email,bio:a.data.bio,social_notification:!1,photo:a.data.photo},n={token:a.data.accessToken,refreshToken:a.data.refreshToken},t.$store.dispatch("setUser",o),t.$store.dispatch("setToken",n),t.$store.dispatch("setLoggedIn",!0),ka.push("/dashboard");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){console.log("Failed to register. Confirm account info.")}))}}),mounted:function(){this.SendConfirmCode()}}),vt=dt,mt=Object(c["a"])(vt,lt,ut,!1,null,null,null),pt=mt.exports;V()(mt,{VApp:T["a"],VBtn:U["a"],VCard:A["a"],VSpacer:L["a"],VToolbar:M["a"],VToolbarTitle:H["a"]});var ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app")},ht=[],gt={data:function(){return{}},mounted:function(){this.redirectToDashboard()},methods:{redirectToDashboard:function(){var t=window.location.search,e=new URLSearchParams(t),a={id:e.get("id"),username:e.get("name"),email:e.get("email"),bio:e.get("bio"),social_notification:!1},o={token:e.get("accessToken"),refreshToken:e.get("refreshToken")};this.$store.dispatch("setUser",a),this.$store.dispatch("setToken",o),ka.push("/dashboard")}}},bt=gt,wt=Object(c["a"])(bt,ft,ht,!1,null,null,null),_t=wt.exports;V()(wt,{VApp:T["a"]});var kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Header"),a("SideMenu"),t.loading?[a("v-progress-linear",{attrs:{indeterminate:"",color:"yellow darken-2"}})]:t._e(),a("v-container",{staticClass:"ma-6",attrs:{align:"center"}},[a("v-row",[a("v-col",{staticClass:"ml-8",attrs:{cols:"12",md:"12"}},[a("v-row",{staticClass:"ma-8",attrs:{justify:"space-around"}},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-row",{attrs:{justify:"space-around"}},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e){return a("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])})),1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",[a("v-row",[a("v-container",{staticClass:"ma-6",staticStyle:{height:"81px"},attrs:{fluid:""}},[a("v-sheet",{staticClass:"mx-auto",attrs:{"max-width":"600"}},[a("v-slide-group",{attrs:{multiple:"","show-arrows":""}},t._l(t.followings,(function(e){return a("v-slide-item",{key:e.id},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:""}},[a("v-avatar",{staticClass:"ma-2",on:{click:function(a){return t.showProfile(e.id)}}},[a("v-img",{attrs:{src:e.photo,alt:"John"}})],1)],1)],1)})),1)],1)],1)],1),a("v-divider"),a("v-container",[a("ul",{staticClass:"list-group",staticStyle:{"list-style":"none"}},t._l(t.posts,(function(e){return a("li",{key:e.id,staticClass:"list-group-item"},[a("v-card",{staticClass:"ma-4",attrs:{tile:""},on:{click:function(a){return t.viewStory(e.id)}}},[a("v-container",[a("v-row",{attrs:{dense:"",align:"center"}},[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-avatar",{staticClass:"ma-2"},[a("v-img",{attrs:{src:e.photo}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[t._v(" "+t._s(e.name)+" ")]),a("v-col",{attrs:{cols:"12",md:"6"}},[t._v(" "+t._s(e.date)+" ")])],1),a("v-col",{attrs:{align:"center"}},[a("h2",{domProps:{innerHTML:t._s(e.title)}})]),a("v-container",[a("span",{domProps:{innerHTML:t._s(e.content.substring(0,200)+"...")}})])],1)],1)],1)})),0)])],1),a("v-tab-item")],1)],1),a("v-col",{staticStyle:{"border-left":"1px solid black !important"},attrs:{cols:"12",md:"4",align:"center"}},[a("v-container",[a("h2",[t._v("Recommended Topics")]),a("v-container",[a("v-chip-group",t._l(t.hashtags,(function(e){return a("v-chip",{key:e.id},[t._v(" "+t._s(e.hashtag)+" ")])})),1)],1)],1),a("v-divider"),a("v-container",{staticClass:"ma-5"},[a("h2",[t._v("Who to follow")]),a("v-container",{staticClass:"ma-5"},t._l(t.followings,(function(e){return a("v-list-item",{key:e.id},[a("v-container",[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:""}},[a("v-avatar",{staticClass:"ma-2",on:{click:function(a){return t.showProfile(e.id)}}},[a("v-img",{attrs:{src:e.photo,alt:"John"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"9"}},[t._v(" "+t._s(e.name)+" ")])],1)],1)],1)})),1)],1)],1)],1)],1)],1)],1)],1)],1)],2)},xt=[],Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"grey lighten-4",flat:"",tile:""}},[a("v-app-bar",{attrs:{app:"",dark:"",color:"primary","elevate-on-scroll":""}},[a("v-col",{attrs:{cols:"12",md:"2"}}),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-row",{attrs:{align:"center",justify:"space-around"}},[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-toolbar-title",[null!=this.getRefreshToken?a("router-link",{attrs:{to:"/dashboard",tag:"div"}},[a("v-btn",{attrs:{text:""}},[a("h2",[t._v("Medium")])])],1):a("router-link",{attrs:{to:"/",tag:"div"}},[a("v-btn",{attrs:{text:""}},[a("h2",[t._v("Medium")])])],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[t.boxshow?a("v-text-field",{attrs:{label:"search word","hide-details":"auto"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchSubmit.apply(null,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}):t._e()],1),a("v-col",{attrs:{cols:"12",md:"1"}},[null!=this.getRefreshToken?a("v-btn",{staticClass:"mr-5",attrs:{icon:""},on:{click:function(e){t.boxshow=!t.boxshow}}},[a("v-icon",[t._v("fas fa-search")])],1):t._e()],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1)],1)},yt=[],Vt={name:"Header",data:function(){return{boxshow:0,photo:"",keyword:"",menuItems:[{title:"Write a Story",link:"/write"},{title:"Settings",link:"/profile"},{title:"Your Stories",link:"/stories"}]}},computed:Object(W["a"])({},Object(J["b"])(["getmenuItems","getUser","getRefreshToken"])),mounted:function(){},methods:{searchSubmit:function(t){t.preventDefault(),""!=this.keyword&&ka.push("/search?keyword="+this.keyword)},signout:function(){this.$store.dispatch("removeToken"),ka.push("/")}}},Tt=Vt,St=a("40dc"),Ut=Object(c["a"])(Tt,Ct,yt,!1,null,null,null),At=Ut.exports;V()(Ut,{VAppBar:St["a"],VBtn:U["a"],VCard:A["a"],VCol:$["a"],VIcon:P["a"],VRow:F["a"],VTextField:tt["a"],VToolbarTitle:H["a"]});var jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"inspire"}},[a("v-navigation-drawer",{attrs:{app:""},scopedSlots:t._u([0!=t.getUser.id?{key:"append",fn:function(){return[a("v-divider"),a("v-sheet",{attrs:{align:"center",justify:"center"}},[a("v-menu",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,n=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:"",height:"48",width:"48"}},"v-btn",n,!1),o),[a("v-img",{attrs:{src:t.getUser.photo,alt:"John",height:"48",width:"48"}})],1)]}}],null,!1,1959654117)},[a("v-list",[a("v-list-item",[a("v-list-item-title",[a("router-link",{attrs:{to:"/profile",tag:"div"}},[a("v-btn",{attrs:{text:""}},[t._v("Profile Setting")])],1)],1)],1),a("v-list-item",[a("v-btn",{attrs:{text:""},on:{click:t.signout}},[t._v("Logout")])],1)],1)],1)],1)]},proxy:!0}:null],null,!0),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-sheet",{staticClass:"pa-4",attrs:{align:"center",justify:"center"}},[a("v-avatar",{staticClass:"mb-4",attrs:{color:"primary",size:"64"}},[a("v-icon",{attrs:{"x-large":"",dark:""}},[t._v("mdi-home-city")])],1),a("h1",[t._v("Blog House")]),a("p",[a("img",{staticStyle:{width:"100%"},attrs:{src:"https://cdn.jpegmini.com/user/images/slider_puffin_before_mobile.jpg",alt:"asdf"}})])],1),a("br"),a("br"),a("br"),a("main",[a("v-list",t._l(t.links,(function(e){var o=e[0],n=e[1],s=e[2];return a("v-list-item",{key:o,attrs:{color:"primary darken-1"}},[a("router-link",{attrs:{to:s,tag:"div"}},[a("v-btn",{attrs:{text:""}},[a("v-list-item-icon",{attrs:{color:"primary darken-1"}},[a("v-icon",{attrs:{color:"primary darken-1"}},[t._v(t._s(o))])],1),t._v(" "+t._s(n)+" ")],1)],1)],1)})),1)],1)],1)],1)},$t=[],Ot=a("94ed"),It={name:"SideMenu",data:function(){return{userLink:Ot["a"],drawer:null,links:[[Ot["c"],"Home","/dashboard"],[Ot["b"],"List","/stories"],[Ot["e"],"Write","/write"],[Ot["d"],"Nofitication","/write"]],siteLogo:"../../asssets/logo.png"}},computed:Object(W["a"])({},Object(J["b"])(["getUser"])),methods:{signout:function(){this.$store.dispatch("removeToken"),ka.push("/")}}},Pt=It,Rt=a("ce7e"),Ft=a("8860"),Lt=a("da13"),Mt=a("34c3"),Ht=a("5d23"),Et=a("e449"),Bt=a("f774"),zt=a("8dd9"),Dt=Object(c["a"])(Pt,jt,$t,!1,null,null,null),Wt=Dt.exports;V()(Dt,{VAvatar:S["a"],VBtn:U["a"],VDivider:Rt["a"],VIcon:P["a"],VImg:R["a"],VList:Ft["a"],VListItem:Lt["a"],VListItemIcon:Mt["a"],VListItemTitle:Ht["c"],VMenu:Et["a"],VNavigationDrawer:Bt["a"],VSheet:zt["a"]});var Nt={data:function(){return{posts:[],loadNum:0,followings:[],hashtags:[],isActive:!1,tab:null,items:["Main","Extra"],loading:!1}},computed:Object(W["a"])({},Object(J["b"])(["getUser"])),components:{Header:At,SideMenu:Wt},methods:Object(W["a"])(Object(W["a"])({},Object(J["c"])(["getMe"])),{},{infiniteHandler:function(t){var e=this;this.$Axios.get("/api/posts/"+this.loadNum).then((function(a){a.data.totalPages==e.loadNum?t.complete():setTimeout((function(){var o=a.data.content;for(var n in o)e.posts.push(o[n]);e.loadNum++,t.loaded()}),1e3)})).catch((function(t){console.log(t),alert("error"),localStorage.clear(),e.$store.state.loginState=!1,e.$store.state.token=null}))},getPosts:function(){var t=this;this.getRecommendedTags(),this.$Axios.get("/api/posts/offset/"+this.loadNum).then((function(e){for(var a in e.data)t.posts.push(e.data[a]);t.loading=!1})).catch((function(t){console.log(t),alert("error")}))},getFollowing:function(){var t=this;this.$Axios.get("/api/users/"+this.getUser.id+"/following").then((function(e){for(var a in e.data)t.followings.push(e.data[a])})).catch((function(t){console.log(t),alert("error")}))},showProfile:function(t){ka.push("/public-profile?postUserId="+t)},viewStory:function(t){ka.push("/view?postId="+t)},getRecommendedTags:function(){var t=this;this.$Axios.get("/api/hashtags/recommended").then((function(e){t.hashtags=e.data})).catch((function(t){console.log(t),alert("error")}))}}),mounted:function(){var t=this;console.log("mounted"),this.$Axios.get("/api/users/me").then((function(e){t.$store.dispatch("setUser",e.data),t.getFollowing()})).catch((function(t){console.log(t)})),this.getPosts()}},Gt=Nt,Jt=a("cc20"),Yt=a("ef9a"),qt=a("8e36"),Kt=a("7efd"),Qt=a("9dbe"),Xt=a("71a3"),Zt=a("c671"),te=a("fe57"),ee=a("aac8"),ae=Object(c["a"])(Gt,kt,xt,!1,null,null,null),oe=ae.exports;V()(ae,{VApp:T["a"],VAvatar:S["a"],VBtn:U["a"],VCard:A["a"],VChip:Jt["a"],VChipGroup:Yt["a"],VCol:$["a"],VContainer:O["a"],VDivider:Rt["a"],VImg:R["a"],VListItem:Lt["a"],VProgressLinear:qt["a"],VRow:F["a"],VSheet:zt["a"],VSlideGroup:Kt["b"],VSlideItem:Qt["a"],VTab:Xt["a"],VTabItem:Zt["a"],VTabs:te["a"],VTabsItems:ee["a"]});var ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Header"),a("v-container",{staticClass:"mt-10"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}}),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-row",{staticClass:"pa-md-4 mx-lg-auto"},[a("v-col",[a("h2",{staticStyle:{"border-bottom":"1px solid black !important"}},[t._v("About you")])])],1),a("v-row",{staticClass:"pa-md-4 mx-lg-auto"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("h2",[t._v("Name")]),a("v-text-field",{attrs:{readonly:t.readonly1},model:{value:t.getUser.name,callback:function(e){t.$set(t.getUser,"name",e)},expression:"getUser.name"}}),a("span",{staticClass:"description"},[t._v("Your name appears on your Profile page, as your byline, and in your responses. It is a required field.")])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[t.readonly1?a("v-col",{attrs:{cols:"12",offset:"8"}},[a("v-btn",{on:{click:function(e){t.readonly1=!1,t.readonly2=!0,t.readonly3=!0}}},[t._v("edit")])],1):a("v-col",{attrs:{cols:"12",offset:"3"}},[a("v-btn",{on:{click:function(e){return t.saveProfile()}}},[t._v("save")]),a("v-btn",{on:{click:function(e){return t.cancelChange()}}},[t._v("cancel")])],1)],1)],1),a("v-row",{staticClass:"pa-md-4 mx-lg-auto"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("h2",[t._v("Short Bio")]),a("v-text-field",{attrs:{readonly:t.readonly2},model:{value:t.getUser.bio,callback:function(e){t.$set(t.getUser,"bio",e)},expression:"getUser.bio"}}),a("span",{staticClass:"description"},[t._v("Your short bio appears on your Profile and next to your stories. Max 160 characters.")])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[t.readonly2?a("v-col",{attrs:{cols:"12",offset:"8"}},[a("v-btn",{on:{click:function(e){t.readonly2=!1,t.readonly1=!0,t.readonly3=!0}}},[t._v("edit")])],1):a("v-col",{attrs:{cols:"12",offset:"3"}},[a("v-btn",{on:{click:function(e){return t.saveProfile()}}},[t._v("save")]),a("v-btn",{on:{click:function(e){return t.cancelChange()}}},[t._v("cancel")])],1)],1)],1),a("v-row",{staticClass:"pa-md-4 mx-lg-auto"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("h2",[t._v("Email")]),a("v-text-field",{attrs:{readonly:t.readonly3},model:{value:t.getUser.email,callback:function(e){t.$set(t.getUser,"email",e)},expression:"getUser.email"}}),a("span",{staticClass:"description"},[t._v("This is your email account.")])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[t.readonly3?a("v-col",{attrs:{cols:"12",offset:"8"}},[a("v-btn",{on:{click:function(e){t.readonly3=!1,t.readonly1=!0,t.readonly2=!0}}},[t._v("edit")])],1):a("v-col",{attrs:{cols:"12",offset:"3"}},[a("v-btn",{on:{click:function(e){return t.saveProfile()}}},[t._v("save")]),a("v-btn",{on:{click:function(e){return t.cancelChange()}}},[t._v("cancel")])],1)],1)],1),a("v-row",{staticClass:"pa-md-4 mx-lg-auto"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("h2",[t._v("Social Notification")]),a("span",{staticClass:"description"},[t._v("Turn on social notification to get notified.")])]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-col",{attrs:{cols:"12",offset:"8"}},[a("v-switch",{attrs:{flat:""},on:{change:function(e){return t.saveProfile()}},model:{value:t.getUser.social_notification,callback:function(e){t.$set(t.getUser,"social_notification",e)},expression:"getUser.social_notification"}})],1)],1)],1),a("v-row",{staticClass:"pa-md-4 mx-lg-auto"},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("h2",[t._v("Avatar")]),a("v-file-input",{attrs:{accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick an avatar","prepend-icon":"mdi-camera",label:"Avatar"},on:{change:t.selectFile}}),a("span",{staticClass:"description"},[t._v("Upload your avatar.")])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[t.isSelected?a("v-col",{attrs:{cols:"12",offset:"8"}},[a("v-btn",{on:{click:function(e){return t.uploadAvatar()}}},[t._v("upload")])],1):t._e()],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"3"}})],1)],1)],1)},se=[],re={data:function(){return{boxshow:!1,readonly1:!0,readonly2:!0,readonly3:!0,switch1:!0,isSelected:!1,image:""}},components:{Header:At},computed:Object(W["a"])({},Object(J["b"])(["getmenuItems","getUser"])),methods:Object(W["a"])(Object(W["a"])({},Object(J["c"])(["setUser","setAvatar"])),{},{saveProfile:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.readonly1=!0,t.readonly2=!0,t.readonly3=!0,e.next=5,t.$Axios.put("/api/users/"+t.getUser.id,t.getUser);case 5:case"end":return e.stop()}}),e)})))()},cancelChange:function(){this.readonly1=!0,this.readonly2=!0,this.readonly3=!0},selectFile:function(t){this.isSelected=!0,this.image=t},uploadAvatar:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,o,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("image",t.image),e.prev=2,e.next=5,t.$Axios.post("/api/users/avatar/".concat(t.getUser.id),a,{headers:{"Content-Type":"multipart/form-data"}});case 5:o=e.sent,n=o.data,console.log(n),t.$store.dispatch("setAvatar",n.photo),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))()}}),mounted:function(){var t=this;this.$Axios.get("/api/users/me").then((function(e){t.$store.dispatch("setUser",e.data),t.cancelChange()}))}},ie=re,ce=(a("455a"),a("23a7")),le=a("b73d"),ue=Object(c["a"])(ie,ne,se,!1,null,"0d5bd1c4",null),de=ue.exports;V()(ue,{VApp:T["a"],VBtn:U["a"],VCol:$["a"],VContainer:O["a"],VFileInput:ce["a"],VRow:F["a"],VSwitch:le["a"],VTextField:tt["a"]});var ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Header"),a("v-container",{staticClass:"ma-15",attrs:{align:"center"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}}),a("v-col",{attrs:{cols:"12",md:"8"}},[a("Bubble"),a("v-container",[a("h1",[t._v("Your Story")]),a("v-container",[a("v-row",[a("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.commands,n=e.isActive;return[a("div",{staticClass:"d-flex"},[a("v-container",[a("v-btn",{class:{"is-active":n.heading({level:1})},attrs:{text:"",icon:""},on:{click:function(t){return o.heading({level:1})}}},[a("b",[t._v(" H1 ")])]),a("v-btn",{class:{"is-active":n.bold()},attrs:{text:"",icon:""},on:{click:o.bold}},[a("v-icon",[t._v("mdi-format-bold")])],1),a("v-btn",{class:{"is-active":n.underline()},attrs:{text:"",icon:""},on:{click:o.underline}},[a("v-icon",[t._v("mdi-format-underline")])],1),a("v-btn",{attrs:{text:"",icon:""},on:{click:function(e){t.isTextfield=!t.isTextfield}}},[a("v-icon",[t._v("fas fa-edit")])],1),t.isTextfield?a("v-text-field",{model:{value:t.imageUrl,callback:function(e){t.imageUrl=e},expression:"imageUrl"}}):t._e(),t.isTextfield?a("v-btn",{on:{click:function(e){return t.loadImage(o.image)}}},[t._v(" add ")]):t._e()],1),a("v-file-input",{attrs:{"hide-input":"",accept:"image/png, image/jpeg, image/bmp"},on:{change:function(e){return t.uploadImage(o.image)}},model:{value:t.chosenfile,callback:function(e){t.chosenfile=e},expression:"chosenfile"}})],1)]}}])})],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("editor-content",{staticClass:"editor-box",attrs:{editor:t.editor}})],1)],1),a("v-row",[a("v-container",{staticClass:"d-flex"},[a("v-combobox",{attrs:{items:t.items,chips:"",clearable:"",label:"Add hashtags",multiple:"","prepend-icon":"mdi-filter-variant",solo:""},scopedSlots:t._u([{key:"selection",fn:function(e){var o=e.attrs,n=e.item,s=e.select,r=e.selected;return[a("v-chip",t._b({attrs:{"input-value":r,close:""},on:{click:s,"click:close":function(e){return t.remove(n)}}},"v-chip",o,!1),[a("strong",[t._v(t._s(n))]),t._v("  ")])]}}]),model:{value:t.chips,callback:function(e){t.chips=e},expression:"chips"}})],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1),a("v-container",[a("v-col",{attrs:{align:"center"}},[a("v-btn",{attrs:{rounded:"",color:"primary",dark:""},on:{click:t.postPost}},[t._v(" Publish ")])],1)],1)],1)],1)},me=[],pe=a("cd42"),fe=a("f23d"),he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("h1",[t._v("Title")]),a("v-container",[t.editor1?a("bubble-menu",{staticClass:"grey darken-0 text-center rounded",attrs:{editor:t.editor1,"tippy-options":{duration:100}}},[a("button",{class:{"is-active":t.editor1.isActive("bold")},on:{click:function(e){t.editor1.chain().focus().toggleBold().run()}}},[a("v-icon",[t._v("mdi-format-bold")])],1),a("button",{class:{"is-active":t.editor1.isActive("italic")},on:{click:function(e){t.editor1.chain().focus().toggleItalic().run()}}},[a("v-icon",[t._v("mdi-format-italic")])],1)]):t._e(),a("editor-content",{staticClass:"editor-box",attrs:{editor:t.editor1,placeholder:"Title"}})],1)],1)},ge=[],be=a("9980"),we=a("1ab4"),_e=a("672a"),ke={name:"Bubble",components:{EditorContent:we["b"],BubbleMenu:we["a"]},data:function(){return{editor1:null,content1:""}},computed:{},mounted:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,o,n,s,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=window.location.search,o=new URLSearchParams(a),n=o.get("postId"),s="",!n){e.next=12;break}return e.next=7,t.$Axios.get("api/post/"+n);case 7:r=e.sent,i=r.data,s=i.title,console.log("data:"+n+":"+s),t.$store.dispatch("setStoryTitle",s);case 12:t.editor1=new be["a"]({content:s,extensions:[_e["a"]],onUpdate:function(){t.content1=t.editor1.getHTML(),t.$store.dispatch("setStoryTitle",t.content1),console.log(t.content1)}});case 13:case"end":return e.stop()}}),e)})))()}},xe=ke,Ce=(a("7f80"),Object(c["a"])(xe,he,ge,!1,null,null,null)),ye=Ce.exports;V()(Ce,{VContainer:O["a"],VIcon:P["a"]});var Ve={components:{EditorContent:pe["b"],EditorMenuBar:pe["c"],Header:At,Bubble:ye},data:function(){return{editor:null,isTextfield:!1,imageUrl:"",chosenfile:null,content2:"",chips:[],items:[]}},mounted:function(){var t=this;this.editor=new pe["a"]({content:"",extensions:[new fe["b"]({levels:[1,2,3]}),new fe["a"],new fe["d"],new fe["c"]],onUpdate:function(e){var a=e.getHTML;t.content2=a(),console.log(t.content2)}})},computed:Object(W["a"])({},Object(J["b"])(["getUser","getStoryTitle","getStoryContent"])),beforeUnmount:function(){this.editor.destroy()},methods:{loadImage:function(t){t({src:this.imageUrl}),this.isTextfield=!1},uploadImage:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var o,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=new FormData,o.append("image",e.chosenfile),a.prev=2,a.next=5,e.$Axios.post("/api/users/upload/".concat(e.getUser.id),o,{headers:{"Content-Type":"multipart/form-data"}});case 5:n=a.sent,s=n.data,t({src:s.photo}),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](2),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[2,10]])})))()},postPost:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={title:t.getStoryTitle,content:t.content2,hashtags:t.chips},e.next=3,t.$Axios.post("/api/posts/".concat(t.getUser.id),a);case 3:ka.push("/stories");case 4:case"end":return e.stop()}}),e)})))()}}},Te=Ve,Se=(a("1ce6"),a("2b5d")),Ue=Object(c["a"])(Te,ve,me,!1,null,null,null),Ae=Ue.exports;V()(Ue,{VApp:T["a"],VBtn:U["a"],VChip:Jt["a"],VCol:$["a"],VCombobox:Se["a"],VContainer:O["a"],VFileInput:ce["a"],VIcon:P["a"],VRow:F["a"],VTextField:tt["a"]});var je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Header"),a("SideMenu"),a("v-container",{staticClass:"ma-6",attrs:{align:"center"}},[a("v-row",[a("v-col",{staticClass:"ml-8",attrs:{cols:"12",md:"12"}},[a("v-row",{staticClass:"ma-8",attrs:{justify:"space-around"}},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-row",[a("v-container",{staticClass:"ma-6",staticStyle:{"border-bottom":"1px solid black !important"},attrs:{fluid:""}},[a("h1",[t._v("Your Stories")])])],1),a("v-container",[a("ul",{staticClass:"list-group",staticStyle:{"list-style":"none"}},t._l(t.posts,(function(e){return a("li",{key:e.id,staticClass:"list-group-item"},[a("v-card",{staticClass:"ma-6",attrs:{color:"lighten-4",tile:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",[a("v-container",[t.loading?[a("v-progress-linear",{attrs:{indeterminate:"",color:"yellow darken-2"}})]:t._e(),a("v-row",{attrs:{dense:"",align:"center"}},[a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-avatar",{staticClass:"ma-2"},[a("img",{attrs:{src:e.photo}})])],1),a("v-col",{attrs:{cols:"12",md:"11"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-container",[t._v(" "+t._s(e.date)+" ")])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-btn",{on:{click:function(a){return t.viewStory(e.id)}}},[a("v-icon",[t._v("fa-solid fa-eye")])],1),a("v-btn",{on:{click:function(a){return t.editStory(e.id)}}},[a("v-icon",[t._v("fa-solid fa-pen-to-square")])],1),a("v-btn",{on:{click:function(a){return t.deleteStory(e.id)}}},[a("v-icon",[t._v("fa-solid fa-trash-can")])],1)],1)],1)],1)],1),a("v-row",{staticClass:"ma-3"},[a("v-container",[a("v-col",{attrs:{align:"center"}},[a("h2",{staticStyle:{"border-margin":"10px"},domProps:{innerHTML:t._s(e.title)}})])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("span",{staticClass:"ma-6",domProps:{innerHTML:t._s(e.brief+"...")}})]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-img",{attrs:{src:e.imgUrl,"max-height":"200","max-width":"200"}})],1)],1)],1)],2)],1)],1)],1)],1)})),0)])],1)],1)],1)],1)],1)],1)},$e=[],Oe=(a("4de4"),{data:function(){return{posts:[],followings:[],isActive:!1,loading:!0}},computed:Object(W["a"])({},Object(J["b"])(["getUser"])),components:{Header:At,SideMenu:Wt},methods:{viewStory:function(t){ka.push("/view?postId="+t)},editStory:function(t){ka.push("/edit?postId="+t)},deleteStory:function(t){var e=this;console.log("/api/post/"+t),this.$Axios.delete("/api/post/"+t).then((function(){var a=e.posts.filter((function(e){return e.id!=t}));e.posts=a,e.$forceUpdate()}))},getMyPosts:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$Axios.get("/api/posts/"+t.getUser.id).then((function(e){for(var a in e.data)t.posts.push(e.data[a]);t.loading=!1,console.log(e.data)})).catch((function(t){console.log(t),alert("error")}));case 1:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;this.$Axios.get("/api/users/me").then((function(e){t.$store.dispatch("setUser",e.data),t.getMyPosts()}))}}),Ie=Oe,Pe=Object(c["a"])(Ie,je,$e,!1,null,null,null),Re=Pe.exports;V()(Pe,{VApp:T["a"],VAvatar:S["a"],VBtn:U["a"],VCard:A["a"],VCol:$["a"],VContainer:O["a"],VIcon:P["a"],VImg:R["a"],VProgressLinear:qt["a"],VRow:F["a"]});var Fe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Header"),a("v-container",{staticClass:"ma-15",attrs:{align:"center"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}}),a("v-col",{attrs:{cols:"12",md:"8"}},[a("Bubble"),a("v-container",[a("h1",[t._v("Your Story")]),a("v-container",[a("v-row",[a("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.commands,n=e.isActive;return[a("div",{staticClass:"d-flex"},[a("v-container",[a("v-btn",{class:{"is-active":n.heading({level:1})},attrs:{text:"",icon:""},on:{click:function(t){return o.heading({level:1})}}},[a("b",[t._v(" H1 ")])]),a("v-btn",{class:{"is-active":n.bold()},attrs:{text:"",icon:""},on:{click:o.bold}},[a("v-icon",[t._v("mdi-format-bold")])],1),a("v-btn",{class:{"is-active":n.underline()},attrs:{text:"",icon:""},on:{click:o.underline}},[a("v-icon",[t._v("mdi-format-underline")])],1),a("v-btn",{attrs:{text:"",icon:""},on:{click:function(e){t.isTextfield=!t.isTextfield}}},[a("v-icon",[t._v("fas fa-edit")])],1),t.isTextfield?a("v-text-field",{model:{value:t.imageUrl,callback:function(e){t.imageUrl=e},expression:"imageUrl"}}):t._e(),t.isTextfield?a("v-btn",{on:{click:function(e){return t.loadImage(o.image)}}},[t._v(" add ")]):t._e()],1),a("v-file-input",{attrs:{"hide-input":"",accept:"image/png, image/jpeg, image/bmp"},on:{change:function(e){return t.uploadImage(o.image)}},model:{value:t.chosenfile,callback:function(e){t.chosenfile=e},expression:"chosenfile"}})],1)]}}])})],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("editor-content",{staticClass:"editor-box",attrs:{editor:t.editor}})],1)],1),a("v-row",[a("v-container",{staticClass:"d-flex"},[a("v-combobox",{attrs:{items:t.items,chips:"",clearable:"",label:"Add hashtags",multiple:"","prepend-icon":"mdi-filter-variant",solo:""},scopedSlots:t._u([{key:"selection",fn:function(e){var o=e.attrs,n=e.item,s=e.select,r=e.selected;return[a("v-chip",t._b({attrs:{"input-value":r,close:""},on:{click:s,"click:close":function(e){return t.remove(n)}}},"v-chip",o,!1),[a("strong",[t._v(t._s(n))]),t._v("  ")])]}}]),model:{value:t.chips,callback:function(e){t.chips=e},expression:"chips"}})],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"2"}})],1),a("v-container",[a("v-col",{attrs:{align:"center"}},[a("v-btn",{attrs:{large:"",rounded:"",color:"primary",dark:""},on:{click:t.updatePost}},[t._v(" Publish ")])],1)],1)],1)],1)},Le=[],Me=a("2909"),He=(a("a434"),{components:{EditorContent:pe["b"],EditorMenuBar:pe["c"],Header:At,Bubble:ye},data:function(){return{editor:null,isTextfield:!1,imageUrl:"",chosenfile:null,content2:"",chips:[],items:[]}},mounted:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,o,n,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=window.location.search,o=new URLSearchParams(a),n=o.get("postId"),e.next=5,t.$Axios.get("/api/post/"+n);case 5:s=e.sent,r=s.data,t.content2=r.content,t.editor=new pe["a"]({content:r.content,extensions:[new fe["b"]({levels:[1,2,3]}),new fe["a"],new fe["d"],new fe["c"]],onUpdate:function(e){var a=e.getHTML;t.content2=a()}}),t.getHashtags(n);case 10:case"end":return e.stop()}}),e)})))()},computed:Object(W["a"])({},Object(J["b"])(["getUser","getStoryTitle","getStoryContent"])),beforeUnmount:function(){this.editor.destroy()},methods:{loadImage:function(t){t({src:this.imageUrl}),this.isTextfield=!1},uploadImage:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var o,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return o=new FormData,o.append("image",e.chosenfile),a.prev=2,a.next=5,e.$Axios.post("/api/users/upload/".concat(e.getUser.id),o,{headers:{"Content-Type":"multipart/form-data"}});case 5:n=a.sent,s=n.data,t({src:s.photo}),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](2),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[2,10]])})))()},updatePost:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,o,n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=window.location.search,o=new URLSearchParams(a),n=o.get("postId"),s={title:t.getStoryTitle,content:t.content2,hashtags:t.chips},console.log(t.getStoryTitle),e.next=7,t.$Axios.post("/api/post/update/"+n,s);case 7:ka.push("/stories");case 8:case"end":return e.stop()}}),e)})))()},remove:function(t){this.chips.splice(this.chips.indexOf(t),1),this.chips=Object(Me["a"])(this.chips)},getHashtags:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$Axios.get("/api/hashtags/post/"+t);case 2:o=a.sent,n=o.data,e.chips=n;case 5:case"end":return a.stop()}}),a)})))()}}}),Ee=He,Be=(a("c5e2"),Object(c["a"])(Ee,Fe,Le,!1,null,null,null)),ze=Be.exports;V()(Be,{VApp:T["a"],VBtn:U["a"],VChip:Jt["a"],VCol:$["a"],VCombobox:Se["a"],VContainer:O["a"],VFileInput:ce["a"],VIcon:P["a"],VRow:F["a"],VTextField:tt["a"]});var De=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Header"),t.loading?[a("v-progress-linear",{attrs:{indeterminate:"",color:"yellow darken-2"}})]:t._e(),a("v-container",{staticClass:"ma-6"},[a("v-row",{staticClass:"ma-8"},[a("v-col",{staticClass:"ma-6",attrs:{align:"center"}},[a("h1",{staticStyle:{"border-margin":"10px"},domProps:{innerHTML:t._s(t.post.title)}})])],1),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",md:"2"}}),a("v-col",{staticClass:"d-flex",attrs:{cols:"12",md:"6"}},[a("v-avatar",{staticClass:"ma-2"},[a("v-img",{attrs:{src:t.post.photo}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-row",{staticClass:"ma-n1",attrs:{align:"center"}},[t._v(" "+t._s(t.post.name)+" ")]),a("v-row",{staticClass:"ma-n1"},[a("v-col",{attrs:{cols:"12",md:"10"}},[t._v(" "+t._s(t.post.date)+" ")])],1)],1)],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"2"}}),a("v-col",{staticClass:"ml-8",attrs:{cols:"12",md:"7"}},[a("v-row",[a("span",{staticClass:"ma-6",domProps:{innerHTML:t._s(t.post.content)}})]),a("v-row",[a("v-col",[a("v-container",{staticClass:"d-flex",attrs:{dense:""}},[a("v-col",[a("v-container",[a("h3",[t._v("Hashtags: ")])])],1),a("v-container",t._l(t.chips,(function(e){return a("v-chip",{key:e,staticClass:"ma-2"},[t._v(" "+t._s(e)+" ")])})),1)],1)],1)],1),a("v-row",[a("v-col",{staticClass:"d-flex",attrs:{cols:"12",md:"6"}},[a("v-container",[a("v-btn",{attrs:{disabled:t.isClap},on:{click:function(e){return t.createClap(t.post.id,0)}}},[a("v-icon",{attrs:{color:"blue darken-2"}},[t._v("mdi-thumb-up")])],1),a("span",{staticClass:"ml-5"},[t._v(t._s(t.post.clap_count))])],1),a("v-container",[a("v-btn",{on:{click:function(e){t.drawer=!t.drawer}}},[a("v-icon",{attrs:{color:"blue darken-2"}},[t._v(" mdi-message-text ")])],1),a("span",{staticClass:"ml-5"},[t._v(t._s(t.post.response_count))])],1)],1)],1)],1),a("v-divider",{attrs:{vertical:""}}),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",[a("v-avatar",{staticClass:"ma-2",attrs:{size:"80"}},[a("v-img",{attrs:{src:t.post.photo,height:"80"}})],1)],1)],1),a("v-col",[a("v-row",{staticClass:"ma-n1"},[a("span",{staticClass:"black--text text-h5"},[t._v(t._s(t.post.name))])]),a("v-row",{staticClass:"ma-n1"},[a("v-col",{attrs:{cols:"12",md:"10"}},[t._v(" "+t._s(t.post.follower_count)+" followers ")])],1),a("v-row",{staticClass:"ma-n1"},[a("v-col",{attrs:{cols:"12"}},[t._v(" "+t._s(t.post.bio)+" ")])],1),a("v-row",{staticClass:"ma-n1"},[t.showFollowBtn?a("v-col",[t.isFollow?a("v-btn",{staticClass:"ma-2",attrs:{small:"",outlined:"",color:"indigo"},on:{click:function(e){return t.unfollowAuthor(t.post.user_id)}}},[t._v(" unfollow ")]):a("v-btn",{staticClass:"ma-2",attrs:{small:"",outlined:"",color:"indigo"},on:{click:function(e){return t.followAuthor(t.post.user_id)}}},[t._v(" follow ")])],1):t._e(),a("v-spacer")],1)],1),a("v-container",[a("v-col",[a("span",[t._v("Related")])]),a("v-divider")],1)],1)],1)],1),a("v-navigation-drawer",{attrs:{temporary:"",fixed:"",right:"",width:"380"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list-item",[a("v-list-item-avatar",[a("v-img",{attrs:{src:this.getUser.photo}})],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-h6"},[t._v(t._s(this.getUser.username))])],1)],1),t.isComment?t._e():a("v-container",[a("v-textarea",{attrs:{"auto-grow":"",label:"Comment",solo:"",outlined:""},model:{value:t.myComment,callback:function(e){t.myComment=e},expression:"myComment"}}),a("v-row",[a("v-col",{attrs:{align:"center"}},[a("v-btn",{attrs:{small:""},on:{click:function(e){return t.removeComment()}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{small:""},on:{click:function(e){return t.createComment(t.post.id,0,0,t.post.response_count)}}},[t._v(" Reply ")])],1)],1)],1),a("v-divider"),a("v-list",{attrs:{dense:""}},t._l(t.comments,(function(e){return a("v-list-item",{key:e.comment.id,style:"border-top: "+(1==e.comment.depth?1:0)+"px solid grey",attrs:{link:""}},[a("Comment",{attrs:{commentData:e,post:t.post},on:{msg:t.pushComment}})],1)})),1)],1)],2)},We=[],Ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{class:"ml-"+8*(t.commentData.comment.depth-1)},[a("v-row",[a("v-list-item-icon",[a("v-avatar",{attrs:{size:"36"}},[a("v-img",{attrs:{src:t.commentData.user.photo}})],1)],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-h6"},[t._v(t._s(t.commentData.user.name))]),a("v-list-item-subtitle",{domProps:{textContent:t._s(t.commentData.date)}})],1)],1),a("v-row",[a("v-textarea",{attrs:{"auto-grow":"",rows:"1",readonly:"",solo:"",value:t.commentData.comment.content}})],1),a("v-row",[a("v-container",{staticClass:"flex"},[a("v-col",{attrs:{align:"right"}},[a("v-btn",{attrs:{disabled:t.isComment},on:{click:function(e){t.isShowWindow=!t.isShowWindow}}},[a("v-icon",{attrs:{color:"blue darken-2"}},[t._v(" mdi-message-text ")])],1)],1)],1),t.isShowWindow?a("v-container",[a("v-textarea",{attrs:{"auto-grow":"",rows:"1",solo:"",outlined:""},model:{value:t.myComment,callback:function(e){t.myComment=e},expression:"myComment"}}),a("v-row",[a("v-col",{attrs:{align:"center"}},[a("v-btn",{attrs:{small:""},on:{click:function(e){t.myComment=""}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{disabled:t.isComment,small:""},on:{click:function(e){return t.createComment(t.post.id,t.commentData.comment.id,t.commentData.comment.depth,t.post.response_count)}}},[t._v(" Reply ")])],1)],1)],1):t._e()],1)],1)},Ge=[],Je={name:"Comment",emits:["msg"],props:{commentData:{},post:{}},data:function(){return{isShowWindow:!1,myComment:"",isComment:!1}},computed:Object(W["a"])({},Object(J["b"])(["getUser","getRefreshToken"])),mounted:function(){0!=this.getUser.id&&null!=this.getRefreshToken||(this.isComment=!0)},methods:{createComment:function(t,e,a,o){var n=this,s={parentId:e,userId:this.getUser.id,depth:a,content:this.myComment,response_count:o};this.$Axios.post("api/comment/"+t,s).then((function(t){"ok"==t.data.msg&&(n.$emit("msg",t.data.data),n.myComment="",n.isShowWindow=!1)}))}}},Ye=Je,qe=a("a844"),Ke=Object(c["a"])(Ye,Ne,Ge,!1,null,null,null),Qe=Ke.exports;V()(Ke,{VAvatar:S["a"],VBtn:U["a"],VCol:$["a"],VContainer:O["a"],VIcon:P["a"],VImg:R["a"],VListItemContent:Ht["a"],VListItemIcon:Mt["a"],VListItemSubtitle:Ht["b"],VListItemTitle:Ht["c"],VRow:F["a"],VTextarea:qe["a"]});var Xe={data:function(){return{post:{},loading:!0,isFollow:!1,showFollowBtn:!0,isClap:!1,isComment:!1,chips:[],drawer:!1,items:[{title:"Home",icon:"mdi-view-dashboard"},{title:"About",icon:"mdi-forum"}],myComment:"",comments:[],isShowWindow:{}}},mounted:function(){var t=this;return Object(m["a"])(regeneratorRuntime.mark((function e(){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==t.getRefreshToken){e.next=6;break}return e.next=3,t.$Axios.get("/api/users/me");case 3:a=e.sent,o=a.data,t.$store.dispatch("setUser",o);case 6:t.getPost();case 7:case"end":return e.stop()}}),e)})))()},computed:Object(W["a"])({},Object(J["b"])(["getUser","getRefreshToken"])),components:{Header:At,Comment:Qe},methods:{pushComment:function(t){this.getComments(t.comment.post_id),this.$forceUpdate()},getPost:function(){var t=this,e=window.location.search,a=new URLSearchParams(e),o=a.get("postId");this.$Axios.get("/api/post/"+o).then((function(e){t.post=e.data,t.loading=!1,0==t.getUser.id&&(t.showFollowBtn=!1,t.isClap=!0,t.isComment=!0),t.post.user_id==t.getUser.id?t.showFollowBtn=!1:t.checkFollowing(t.post.user_id),t.getHashtags(o),t.checkPostClap(o),t.getComments(o)}))},createClap:function(t,e){var a=this,o={post_id:t,is_response:e};this.$Axios.post("/api/users/"+this.getUser.id+"/favorites/create",o).then((function(t){"ok"==t.data.msg&&(a.post.clap_count+=1),a.isClap=!0}))},followAuthor:function(t){var e=this,a={followed_id:t};this.$Axios.post("/api/users/"+this.getUser.id+"/follow",a).then((function(t){"ok"==t.data.msg&&(e.isFollow=!0)}))},unfollowAuthor:function(t){var e=this;this.$Axios.delete("/api/users/"+this.getUser.id+"/follow/"+t).then((function(t){"delete"==t.data.msg&&(e.isFollow=!1)}))},checkFollowing:function(t){var e=this;null!=this.getRefreshToken&&this.$Axios.get("/api/users/"+this.getUser.id+"/follow/"+t).then((function(t){"exist"==t.data.msg&&(e.isFollow=!0)}))},checkPostClap:function(t){var e=this;null!=this.getRefreshToken?this.post.user_id==this.getUser.id?this.isClap=!0:this.$Axios.get("/api/users/"+this.getUser.id+"/favorites/"+t).then((function(t){"exist"==t.data.msg?e.isClap=!0:e.isClap=!1})):this.isClap=!0},getHashtags:function(t){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function a(){var o,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$Axios.get("/api/hashtags/post/"+t);case 2:o=a.sent,n=o.data,e.chips=n;case 5:case"end":return a.stop()}}),a)})))()},showCommentWindow:function(t){"undefined"==this.isShowWindow[t]||0==this.isShowWindow[t]?this.isShowWindow[t]=!0:this.isShowWindow[t]=!1,console.log(t+": "+this.isShowWindow[t])},removeComment:function(){this.myComment=""},createComment:function(t,e,a,o){var n=this,s={parentId:e,userId:this.getUser.id,depth:a,content:this.myComment,response_count:o};this.$Axios.post("/api/comment/"+t,s).then((function(e){"ok"==e.data.msg&&(n.getComments(t),n.post.response_count+=1,n.$forceUpdate())}))},getComments:function(t){var e=this;this.$Axios.get("/api/comment/"+t).then((function(t){if("ok"==t.data.msg){e.comments=[];var a,o=Object(w["a"])(t.data.data);try{for(o.s();!(a=o.n()).done;){var n=a.value;e.comments.push(n)}}catch(s){o.e(s)}finally{o.f()}}}))}}},Ze=Xe,ta=a("8270"),ea=Object(c["a"])(Ze,De,We,!1,null,null,null),aa=ea.exports;V()(ea,{VApp:T["a"],VAvatar:S["a"],VBtn:U["a"],VChip:Jt["a"],VCol:$["a"],VContainer:O["a"],VDivider:Rt["a"],VIcon:P["a"],VImg:R["a"],VList:Ft["a"],VListItem:Lt["a"],VListItemAvatar:ta["a"],VListItemContent:Ht["a"],VListItemTitle:Ht["c"],VNavigationDrawer:Bt["a"],VProgressLinear:qt["a"],VRow:F["a"],VSpacer:L["a"],VTextarea:qe["a"]});var oa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("SideMenu"),a("v-container",{staticClass:"ma-6",attrs:{align:"center"}},[a("v-row",[a("v-col",{staticClass:"ml-8",attrs:{cols:"12",md:"12"}},[a("v-row",{staticClass:"ma-8",attrs:{justify:"space-around"}},[a("v-col",{attrs:{cols:"12",md:"8"}},[[a("v-card",[a("v-card-title",{staticClass:"text-center justify-center py-6"},[a("v-icon",{staticClass:"ma-2",attrs:{large:""}},[t._v("fas fa-search")]),a("v-container",[a("v-text-field",{attrs:{filled:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeTab.apply(null,arguments)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1)],1),a("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""},on:{change:t.changeTab},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e){return a("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])})),1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",[a("v-divider"),a("v-container",{staticClass:"ma-3"},[a("h2",[t._v("Stories")])]),a("v-card",{attrs:{color:"basil",flat:""}},[a("v-container",[a("ul",{staticClass:"list-group",staticStyle:{"list-style":"none"}},t._l(t.posts,(function(e){return a("li",{key:e.id,staticClass:"list-group-item"},[a("v-card",{staticClass:"ma-6",attrs:{color:"grey lighten-4",flat:"",tile:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",[a("v-container",[t.loading?[a("v-progress-linear",{attrs:{indeterminate:"",color:"yellow darken-2"}})]:t._e(),a("v-row",{attrs:{dense:"",align:"center"}},[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-avatar",{staticClass:"ma-2"},[a("v-img",{attrs:{src:e.photo}})],1)],1),a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-container",[t._v(" "+t._s(e.date)+" ")])],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-btn",{on:{click:function(a){return t.viewStory(e.id)}}},[a("v-icon",[t._v("fa-solid fa-eye")])],1)],1)],1)],1)],1),a("v-row",{staticClass:"ma-5"},[a("v-container",[a("h2",{staticStyle:{"border-margin":"10px"},domProps:{innerHTML:t._s(e.title)}})]),a("span",{staticClass:"ma-6",domProps:{innerHTML:t._s(e.content.substring(0,100))}})],1)],2)],1)],1)],1)],1)})),0)])],1)],1),a("v-tab-item",[a("v-divider"),a("v-card",{attrs:{color:"basil",flat:""}},[a("ul",{staticClass:"list-group",staticStyle:{"list-style":"none"}},t._l(t.users,(function(e){return a("li",{key:e.id,staticClass:"list-group-item"},[a("v-card",{staticClass:"ma-6",attrs:{color:"grey lighten-4",flat:"",tile:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",[a("v-container",[t.loading?[a("v-progress-linear",{attrs:{indeterminate:"",color:"yellow darken-2"}})]:t._e(),a("v-row",{attrs:{dense:"",align:"center"}},[a("v-col",{attrs:{cols:"12",md:"1"}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:""}},[a("v-avatar",{staticClass:"ma-2",on:{click:function(a){return t.showProfile(e.id)}}},[a("v-img",{attrs:{src:e.photo}})],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-container",[t._v(" "+t._s(e.name)+" ")])],1),a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-container",[t._v(" "+t._s(e.bio)+" ")])],1),a("v-col",{attrs:{cols:"12",md:"3"}},[t.getUser.id!=e.id?a("v-col",[e.isFollow?a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"indigo"},on:{click:function(a){return t.unfollow(e)}}},[t._v(" unfollow ")]):a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"indigo"},on:{click:function(a){return t.follow(e)}}},[t._v(" follow ")])],1):t._e()],1)],1)],1)],1)],2)],1)],1)],1)],1)})),0)])],1),a("v-tab-item",[a("v-divider"),a("v-container",[a("v-card",{attrs:{color:"basil",flat:""}},[a("v-chip-group",t._l(t.topics,(function(e){return a("v-chip",{key:e.id,on:{click:function(a){return t.getPostsWithTag(e.id)}}},[t._v(" "+t._s(e.hashtag)+" ")])})),1),a("v-container",[a("ul",{staticClass:"list-group",staticStyle:{"list-style":"none"}},t._l(t.hashtag_posts,(function(e){return a("li",{key:e.id,staticClass:"list-group-item"},[a("v-card",{staticClass:"ma-6",attrs:{color:"grey lighten-4",flat:"",tile:""}},[a("v-row",{attrs:{align:"center"}},[a("v-col",[a("v-container",[t.loading?[a("v-progress-linear",{attrs:{indeterminate:"",color:"yellow darken-2"}})]:t._e(),a("v-row",{attrs:{dense:"",align:"center"}},[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-avatar",{staticClass:"ma-2"},[a("img",{attrs:{src:e.photo}})])],1),a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-container",[t._v(" "+t._s(e.date)+" ")])],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-btn",{on:{click:function(a){return t.viewStory(e.id)}}},[a("v-icon",[t._v("fa-solid fa-eye")])],1)],1)],1)],1)],1),a("v-row",{staticClass:"ma-5"},[a("v-container",[a("h2",{staticStyle:{"border-margin":"10px"},domProps:{innerHTML:t._s(e.title)}})]),a("span",{staticClass:"ma-6",domProps:{innerHTML:t._s(e.content.substring(0,100))}})],1)],2)],1)],1)],1)],1)})),0)])],1)],1)],1)],1)],1)]],2)],1)],1)],1)],1)],1)},na=[],sa={data:function(){return{posts:[],hashtag_posts:[],users:[],topics:[],loading:!0,keyword:"",tab:null,items:["Title","User","Topic"],content:[]}},computed:Object(W["a"])({},Object(J["b"])(["getUser"])),components:{SideMenu:Wt},created:function(){this.init()},mounted:function(){var t=this;this.$Axios.get("/api/users/me").then((function(e){t.$store.dispatch("setUser",e.data)}))},methods:{init:function(){var t=window.location.search,e=new URLSearchParams(t);this.keyword=e.get("keyword")},viewStory:function(t){ka.push("/view?postId="+t)},showProfile:function(t){ka.push("/public-profile?postUserId="+t)},changeTab:function(){var t=this;this.$Axios.get("/api/search/"+this.getUser.id+"/"+this.tab+"?keyword="+this.keyword).then((function(e){switch(t.tab){case 0:t.posts=e.data;break;case 1:t.users=e.data;break;case 2:t.topics=e.data;break}t.loading=!1}))},follow:function(t){var e={followed_id:t.id};this.$Axios.post("/api/users/"+this.getUser.id+"/follow",e).then((function(e){"ok"==e.data.msg&&(t.isFollow=!0)}))},unfollow:function(t){this.$Axios.delete("/api/users/"+this.getUser.id+"/follow/"+t.id).then((function(e){"delete"==e.data.msg&&(t.isFollow=!1)}))},getPostsWithTag:function(t){var e=this;this.$Axios.get("/api/post/hashtag/"+t).then((function(t){e.hashtag_posts=t.data,e.$forceUpdate()}))}}},ra=sa,ia=Object(c["a"])(ra,oa,na,!1,null,null,null),ca=ia.exports;V()(ia,{VApp:T["a"],VAvatar:S["a"],VBtn:U["a"],VCard:A["a"],VCardTitle:j["c"],VChip:Jt["a"],VChipGroup:Yt["a"],VCol:$["a"],VContainer:O["a"],VDivider:Rt["a"],VIcon:P["a"],VImg:R["a"],VProgressLinear:qt["a"],VRow:F["a"],VTab:Xt["a"],VTabItem:Zt["a"],VTabs:te["a"],VTabsItems:ee["a"],VTextField:tt["a"]});var la=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Header"),a("SideMenu"),t.loading?[a("v-progress-linear",{attrs:{indeterminate:"",color:"yellow darken-2"}})]:t._e(),a("v-container",{staticClass:"ma-6",attrs:{align:"center"}},[a("v-row",[a("v-col",{staticClass:"ml-8",attrs:{cols:"12",md:"12"}},[a("v-row",{staticClass:"ma-8",attrs:{justify:"space-around"}},[a("v-col",{attrs:{cols:"12",md:"9"}},[a("v-row",{attrs:{justify:"space-around"}},[a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(e){return a("v-tab",{key:e},[t._v(" "+t._s(e)+" ")])})),1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",[a("v-container",[a("ul",{staticClass:"list-group",staticStyle:{"list-style":"none"}},t._l(t.posts,(function(e){return a("li",{key:e.id,staticClass:"list-group-item"},[a("v-card",{staticClass:"ma-4",attrs:{tile:""},on:{click:function(a){return t.viewStory(e.id)}}},[a("v-container",[a("v-row",{attrs:{dense:"",align:"center"}},[a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-avatar",{staticClass:"ma-2"},[a("v-img",{attrs:{src:e.photo}})],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}},[t._v(" "+t._s(e.name)+" ")]),a("v-col",{attrs:{cols:"12",md:"6"}},[t._v(" "+t._s(e.date)+" ")])],1),a("v-col",{attrs:{align:"center"}},[a("h2",{domProps:{innerHTML:t._s(e.title)}})]),a("v-row",[a("v-col",{attrs:{cols:"12",md:"9"}},[a("span",{domProps:{innerHTML:t._s(e.brief+"...")}})]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-img",{attrs:{src:e.imgUrl,"max-height":"200","max-width":"200"}})],1)],1)],1)],1)],1)})),0)])],1),a("v-tab-item")],1)],1),a("v-col",{staticStyle:{"border-left":"1px solid black !important"},attrs:{cols:"12",md:"4"}},[a("v-container",[a("h2",[t._v("Profile")]),a("v-row",{attrs:{align:"center"}},[a("v-col",[a("v-avatar",{staticClass:"ma-2",attrs:{size:"80"}},[a("v-img",{attrs:{src:t.author.photo,height:"80"}})],1)],1)],1),a("v-col",[a("v-row",{staticClass:"ma-n1"},[a("span",{staticClass:"black--text text-h5"},[t._v(t._s(t.author.name))])]),a("v-row",{staticClass:"ma-n1"},[a("v-col",{attrs:{cols:"12",md:"10"}},[t._v(" "+t._s(t.author.follower_count)+" followers ")])],1),a("v-row",{staticClass:"ma-n1"},[a("v-col",{attrs:{cols:"12"}},[t._v(" "+t._s(t.author.bio)+" ")])],1),a("v-row",{staticClass:"ma-n1"},[t.showFollowBtn?a("v-col",[t.isFollow?a("v-btn",{staticClass:"ma-2",attrs:{small:"",outlined:"",color:"indigo"},on:{click:function(e){return t.unfollowAuthor(t.author.id)}}},[t._v(" unfollow ")]):a("v-btn",{staticClass:"ma-2",attrs:{small:"",outlined:"",color:"indigo"},on:{click:function(e){return t.followAuthor(t.author.id)}}},[t._v(" follow ")])],1):t._e(),a("v-spacer")],1)],1)],1),a("v-divider"),a("v-container",{staticClass:"ma-5"},[a("h2",[t._v("Following")]),a("v-container",{staticClass:"ma-5"},t._l(t.followings,(function(e){return a("v-list-item",{key:e.id},[a("v-container",[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:""}},[a("v-avatar",{staticClass:"ma-2",on:{click:function(a){return t.showProfile(e.id)}}},[a("v-img",{attrs:{src:e.photo,alt:"John"}})],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"9"}},[t._v(" "+t._s(e.name)+" ")])],1)],1)],1)})),1)],1)],1)],1)],1)],1)],1)],1)],1)],2)},ua=[],da={data:function(){return{posts:[],followings:[],hashtags:[],isActive:!1,tab:null,items:["Main","Extra"],loading:!1,postUserId:0,author:{},isFollow:!1,showFollowBtn:!0}},computed:Object(W["a"])({},Object(J["b"])(["getUser"])),components:{Header:At,SideMenu:Wt},methods:{showProfile:function(t){this.getAuthorInfo(t),t==this.getUser.id&&(this.showFollowBtn=!1),this.getPosts(t)},getPosts:function(t){var e=this;this.$Axios.get("/api/posts/"+t).then((function(t){for(var a in e.posts=[],t.data)e.posts.push(t.data[a]);e.loading=!1})).catch((function(t){console.log(t),alert("error")}))},getFollowing:function(){var t=this;this.$Axios.get("/api/users/"+this.author.id+"/following").then((function(e){for(var a in t.followings=[],e.data)t.followings.push(e.data[a])})).catch((function(t){console.log(t),alert("error")}))},viewStory:function(t){ka.push("/view?postId="+t)},getAuthorInfo:function(t){var e=this;this.$Axios.get("/api/users/"+t).then((function(t){e.author=t.data,e.getFollowing()})).catch((function(t){console.log(t),alert("error")}))},followAuthor:function(t){var e=this,a={followed_id:t};this.$Axios.post("/api/users/"+this.getUser.id+"/follow",a).then((function(t){"ok"==t.data.msg&&(e.isFollow=!0)}))},unfollowAuthor:function(t){var e=this;this.$Axios.delete("/api/users/"+this.getUser.id+"/follow/"+t).then((function(t){"delete"==t.data.msg&&(e.isFollow=!1)}))},checkFollowing:function(t){var e=this;this.$Axios.get("/api/users/"+this.getUser.id+"/follow/"+t).then((function(t){"exist"==t.data.msg&&(e.isFollow=!0)}))}},mounted:function(){var t=this,e=window.location.search,a=new URLSearchParams(e);this.postUserId=a.get("postUserId"),this.$Axios.get("/api/users/me").then((function(e){t.$store.dispatch("setUser",e.data),t.getAuthorInfo(t.postUserId),t.postUserId==t.getUser.id?t.showFollowBtn=!1:t.checkFollowing(t.postUserId)})).catch((function(t){console.log(t)})),this.getPosts(this.postUserId)}},va=da,ma=Object(c["a"])(va,la,ua,!1,null,null,null),pa=ma.exports;V()(ma,{VApp:T["a"],VAvatar:S["a"],VBtn:U["a"],VCard:A["a"],VCol:$["a"],VContainer:O["a"],VDivider:Rt["a"],VImg:R["a"],VListItem:Lt["a"],VProgressLinear:qt["a"],VRow:F["a"],VSpacer:L["a"],VTab:Xt["a"],VTabItem:Zt["a"],VTabs:te["a"],VTabsItems:ee["a"]}),o["default"].use(J["a"]);var fa=new J["a"].Store({state:{user:{id:0,username:"",bio:"",email:"",social_notification:!1,photo:""},storyTitle:"",storyContent:""},mutations:{setStoryTitle:function(t,e){t.storyTitle=e,console.log(e)},setStoryContent:function(t,e){t.storyContent=e},setUser:function(t,e){var a={id:e.id,name:e.name,email:e.email,bio:e.bio,social_notification:e.social_notification,photo:e.photo};t.user=a},setToken:function(t,e){h.a.set("token",e.token),h.a.set("refreshToken",e.refreshToken)},setAvatar:function(t,e){t.user.photo=e},removeUser:function(t){t.user=null},removeToken:function(){h.a.remove("token"),h.a.remove("refreshToken")}},actions:{setStoryTitle:function(t,e){var a=t.commit;a("setStoryTitle",e)},setStoryContent:function(t,e){var a=t.commit;a("setStoryContent",e)},setToken:function(t,e){var a=t.commit;a("setToken",e)},setUser:function(t,e){var a=t.commit;a("setUser",e)},removeUser:function(t){var e=t.commit;e("removeUser")},removeToken:function(t){var e=t.commit;e("removeToken")},setAvatar:function(t,e){var a=t.commit;a("setAvatar",e)},getMe:function(){return new Promise((function(t,e){ha.get("/api/users/me").then((function(e){t(e)})).catch((function(t){e(t)}))}))}},getters:{getStoryTitle:function(t){return t.storyTitle},getStoryContent:function(t){return t.storyContent},getUser:function(t){return t.user},getAccessToken:function(){return h.a.get("token")},getRefreshToken:function(){return h.a.get("refreshToken")}}});k.a.defaults.baseURL=G.a.baseUrl,k.a.interceptors.request.use(function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.headers["x-access-token"]=h.a.get("token"),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){return Promise.reject(t)})),k.a.interceptors.response.use((function(t){return t}),function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e){var a,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.config,"/api/auth/signin"===a.url||!e.response){t.next=14;break}if(403==e.response.status&&(fa.dispatch("removeToken"),ka.push("/login")),401!==e.response.status||a.retry){t.next=14;break}return a.retry=!0,t.next=7,k.a.post("/api/auth/refreshtoken",{refreshToken:fa.getters.getRefreshToken});case 7:return o=t.sent,n={token:o.data.accessToken,refreshToken:o.data.refreshToken},t.next=11,fa.dispatch("setToken",n);case 11:return t.next=13,k()(a);case 13:return t.abrupt("return",t.sent);case 14:return t.abrupt("return",Promise.reject(e));case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var ha=k.a;function ga(){return ba.apply(this,arguments)}function ba(){return ba=Object(m["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ha.post("/RefreshToken");case 3:return e=t.sent,h.a.set("token",e.data.data.token,"60s"),t.abrupt("return",e);case 8:return t.prev=8,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),ba.apply(this,arguments)}o["default"].use(p["a"]);var wa=[{path:"/",component:B,meta:{unauthorized:!0},name:"landingPage"},{path:"/login",component:at,meta:{unauthorized:!0}},{path:"/register",component:ct,meta:{unauthorized:!0}},{path:"/login-redirect",component:pt,meta:{unauthorized:!0}},{path:"/oauth-redirect",component:_t,meta:{unauthorized:!0}},{path:"/dashboard",component:oe,meta:{unauthorized:!1}},{path:"/profile",component:de,meta:{unauthorized:!0}},{path:"/write",component:Ae,meta:{unauthorized:!0}},{path:"/edit",component:ze,meta:{unauthorized:!0}},{path:"/view",component:aa,meta:{unauthorized:!0}},{path:"/stories",component:Re,meta:{unauthorized:!0}},{path:"/search",component:ca,meta:{unauthorized:!0}},{path:"/public-profile",component:pa,meta:{unauthorized:!0}}],_a=new p["a"]({mode:"history",routes:wa});_a.beforeEach(function(){var t=Object(m["a"])(regeneratorRuntime.mark((function t(e,a,o){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null!==h.a.get("token")||null===h.a.get("refreshToken")){t.next=3;break}return t.next=3,ga();case 3:if("landingPage"!==e.name||!h.a.get("token")){t.next=5;break}return t.abrupt("return",o("/dashboard"));case 5:if(!e.matched.some((function(t){return t.meta.unauthorized}))&&!h.a.get("token")){t.next=7;break}return t.abrupt("return",o());case 7:return alert("Please login"),t.abrupt("return",o("/login"));case 9:case"end":return t.stop()}}),t)})));return function(e,a,o){return t.apply(this,arguments)}}());var ka=_a,xa=a("f309");o["default"].use(xa["a"]);var Ca=new xa["a"]({});a("15f5");o["default"].prototype.$Axios=ha,o["default"].config.productionTip=!1,o["default"].use(v.a,{theme:{primary:"#7957d5"},icons:{iconfont:"fa"}}),new o["default"]({router:ka,store:fa,vuetify:Ca,render:function(t){return t(u)}}).$mount("#app")},"7f80":function(t,e,a){"use strict";a("0f6f")},"86c5":function(t,e,a){},a078:function(t,e){t.exports={baseUrl:"http://34.238.51.25:3000"}},b626:function(t,e,a){},c5e2:function(t,e,a){"use strict";a("86c5")},f02d:function(t,e,a){}});
//# sourceMappingURL=app.65d9118b.js.map